<div class="page-container">
    <div class="page-content-wrapper">
        <div class="page-content" style="min-height: 499px; margin-left: 0px !important;">
            <div class="row">
                <div class="col-md-12 col-xs-12">
                    <div class="hr"><h3 class="text-info">Receptionist Dashboard</h3></div>
                    <div class="hr padding round-table off-wite-bg">
                        <div class="col-md-3 no-padding profile-frm">
                            <h4 class="font-green-meadow">Branch</h4>
                            <select class="form-control" (change)="getFilteredBranch($event.target.value)">
                                <option value="All">&#45;&#45; All &#45;&#45;</option>
                                <option *ngFor="let item of branches; let i = index;"
                                        value={{item.branchName}} (keyup)="refresh.next()">
                                    {{item.name}}
                                </option>
                            </select>
                        </div>
                        <div class="col-md-1"></div>
                        <div class="col-md-3 no-padding profile-frm">
                            <h4 class="font-green-meadow">Doctor</h4>
                            <select class="form-control" (change)="getfilteredDoctor($event.target.value)">
                                <option value="All">&#45;&#45; All &#45;&#45;</option>
                                <option *ngFor="let item of doctorsList; let i = index;"
                                        value={{item.lastName}} (keyup)="refresh.next()">
                                    {{item.firstName}} {{item.lastName}}
                                </option>
                            </select>
                        </div>
                        <div class="pull-right">
                        <a routerLink="/dashboard/appointment/add">
                            <button class="btn mt-sweetalert btn green-meadow" data-title="Sweet Alerts with Icons"
                                    data-message="Success Icon" data-type="success" data-allow-outside-click="true"
                                    data-confirm-button-class="btn-success"><i class="fa fa-plus"></i> Add Appointment
                            </button>
                        </a></div>
                        <!--<div class="col-md-3 no-padding">-->
                            <!--<h4 class="font-green-meadow">Statuses</h4>-->
                            <!--<select class="form-control" (change)="getfilteredStatus($event.target.value)">-->
                                <!--<option value="All">&#45;&#45; All &#45;&#45;</option>-->
                                <!--<option value="ARRIVED">Arrived</option>-->
                                <!--<option value="CHECK_IN">Checked In</option>-->
                                <!--<option value="IN_ROOM">In Room</option>-->
                                <!--<option value="IN_SESSION">In Session</option>-->
                                <!--<option value="COMPLETE">Complete</option>-->
                                <!--<option value="NOT_CONFIRMED">NOT CONFIRMED</option>-->
                                <!--<option value="RE_SCHEDULED">RE SCHEDULE</option>-->
                                <!--<option value="CANCELLED">CANCELLED</option>-->
                                <!--<option value="REGULAR">REGULAR</option>-->

                            <!--</select>-->

                        <!--</div>-->
                    </div>
                </div>
            </div>
            <div class="row">
                <div class="col-md-12">
                    <div class="table-scrollable tbl-brdr-radus">
                        <table class="table table-hover table-light">
                            <thead>
                            <tr class="hedng-bck-clr tbl-pdng">
                                <th> Appointment Id </th>
                                <th> In </th>
                                <th> In Time </th>
                                <th> Branch </th>
                                <th> Patient Name </th>
                                <th> Scheduled at </th>
                                <th> Doctor </th>
                                <th> Exame Room </th>
                                <th> Status </th>
                                <th> Rooms </th>
                                <th> Status </th>
                                <th> Action </th>
                            </tr>
                            <ngx-loading [show]="loading"></ngx-loading>
                            </thead>
                            <tbody>
                            <tr class="tbl-pdng" *ngFor="let item of dashboardListModified">
                                <td>{{item.apptNaturalId}}</td><!--[ngClass]="(checkInTest==true)?'mt-action-dot status-field-On':'mt-action-dot status-field-OFF'"-->
                                <td><ng-container *ngIf="item.status == 'CHECK_IN'" ><div class="mt-action-dot bg-green-meadow" ></div></ng-container>
                                    <ng-container *ngIf="item.status != 'CHECK_IN'" ><div class="mt-action-dot bg-gray-meadow" ></div></ng-container>
                                    </td>
                                <td>{{item.inTime | date: 'shortTime' }}  </td>
                                <td>{{item.branch }}</td>
                                <td><p> {{item.patientFirstName}} {{item.patientLastName}}</p></td>
                                <td><span class="font-blue"> {{item.scheduleAt}}</span></td>
                                <td>{{item.doctorFirstName}} {{item.doctorLastName}}</td>
                                <td>{{item.examRoom}}</td>
                                <td>
                                    <button type="button" class="btn-link"
                                            (click)="showRoomWithBranch(item.branchId,item.roomId)">{{showRoomBtn}}
                                    </button>

                                </td>
                                <td>
                                    <select *ngIf="showRoomDrop" class="form-control"
                                            [ngModelOptions]="{standalone:true}" [(ngModel)]="item.roomId"
                                            (change)="getExamRoom($event.target.value,item.appointmentId)">
                                            <option *ngFor="let r of allRooms" value="{{r.id}}">{{ r.branchName }}</option>
                                    </select>
                                </td>
                                <td>
                                    <!--<select class="form-control" (change)="getUpdatedStatus($event.target.value,item.apptNaturalId,item.appointmentId)" [ngModelOptions]="{standalone:true}"
                                            [(ngModel)]="item.status">
                                 &lt;!&ndash;   <option value="IN_SESSION">IN SESSION</option>
                                    <option value="COMPLETE">COMPLETE</option>
                                    <option value="IN_ROOM">IN ROOM</option>
                                    <option value="RE_SCHEDULED">RE_SCHEDULED</option>
                                    <option value="REGULAR">REGULAR</option>&ndash;&gt;
                                    <option value="CANCELLED">CANCEL</option>
                                    <option value="CHECK_IN">CHECK_IN</option>
                                    <option value="CONFIRMED">CONFIRMED</option>
                                    <option value="NOT_CONFIRMED">NOT_CONFIRMED</option>
                                </select>-->
                                    <select class="form-control" (change)="getUpdatedStatus(item.statusId,item.apptNaturalId,item.appointmentId)" [(ngModel)]="item.statusId" name="itemSt">
                                        <option *ngFor="let item of statusesList; let i = index;"
                                                value={{item.id}} (keyup)="refresh.next()">
                                            {{item.name}}
                                        </option>
                                    </select>
                                </td>
<!--                  *ngIf="item.status == 'CHECK_IN'"              *ngIf="item.status == 'CHECK_IN'"-->
                                <td><ng-container >
                                    <a title="Patient Invoice" (click)="updateAppointmentData(item.appointmentId)">
                                        <i class="fa fa-dollar" style="font-size:18px"></i>
                                    </a>
                                </ng-container>
                                    <ng-container>
                                    <a title="Patient History" (click)="patientHistory(item.patientId)">
                                        <i class="fa fa-hospital-o" style="font-size:18px"></i>
                                    </a></ng-container>
                                </td>
                            </tr>

                            </tbody>
                        </table>
                    </div>
                </div>
            </div>
            <div class="clearfix"></div>
        </div>
    </div>
</div>